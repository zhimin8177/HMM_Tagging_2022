多 自由度 混合 冗余 驱动 机构 运动学 及 可控性 分析
张启升  李瑞琴  梁 晶晶
摘要 提出 了 兼有 混合 驱动 机构 和 冗余 驱动 机构 的 特点 的 ｎ－ＤＯＦ （ 自由度 ） 混合 冗余 驱动 机构 （ ｈｙｂｒｉｄｒｅｄｕｎｄａｎｔｌｙｄｒｉｖｅｎｍｅｃｈａｎｉｓｍ ， ＨＲＤＭ ） 。 ｎ－ＤＯＦ 的 ＨＲＤＭ 由 ｎ 条 对称 分布 于静 、 动 平台 对 整个 机构 不 产生 约束 的 支链 和 一条 中间 混合 冗余 驱动 支链 （ ｈｙｂｒｉｄｒｅｄｕｎｄａｎｔｌｙｄｒｉｖｅｎｌｉｍｂ ， ＨＲＤＬ ） 组成 。 机构 的 自由度 由 中间 支链 决定 ， 中间 支链 由 常速 电机 和 伺服电机 共同 驱动 。 建立 了 机构 的 位置 逆解 数学模型 ， 进一步 对 该类 机构 的 可控性 进行 了 研究 ， 得出 此类 新型 混合 驱动 的 空间 机构 运动 是 完全 可控 的 。 最后 ， 以 ５－ＤＯＦ４－ＰＳＳ／４Ｒ２ＵＨＲＤＭ 为例 ， 规划 工作 空间 内 螺旋 曲线 ， 综合 运用 Ｍａｔｌａｂ 和 Ａｄａｍｓ 软件 验证 了 所 建立 的 运动学 模型 的 正确性 以及 机构 运动 的 可控性 。 研究 结果 为 空间 混合 驱动 机构 的 发展 奠定 了 理论 基础 。
关键词  ４－ＰＳＳ／４Ｒ２Ｕ  混合 驱动 机构  冗余 驱动  运动学  可控性
英国 学者 Ｔｏｋｕｚ 于 １９９２ 年 首次 提出 混合 驱动 机构 的 概念 ， 其 核心思想 是 同时 使用 常速 电机 和 伺服电机 作为 一个多 自由度 机构 的 运动 输入 ， 输出 的 运动 轨迹 具有 柔性 可控 的 特点 。 此类 机构 不仅 具有 传统 机构 的 大功率 、 低成本 和 高速度 的 优点 ， 同时 具有 灵活 、 精确 和 柔性化 输出 的 优点 。 特别 适合 于 只 要求 机器 具有 一定 柔性 和 智能 ， 完成 相似 工作 任务 的 领域 ， 如 医疗 康复 领域 、 包装 工程 和 自动化 生产线 。 经过 ２０ 多年 的 发展 ， 以 平面 多 自由度 的 ５ 杆 机构 、 ６ 杆 机构 或 ７ 杆 机构 为 研究 对象 ， 研究 内容 包括 混合 驱动 曲柄 存在 条件 、 运动学 、 动力学 、 轨迹 规划 、 性能 优化 和 应用 等 方面 对 其 展开 了 深入 的 研究 ， 取得 了 许多 研究成果 ， 构建 了 平面 混合 驱动 机构 理论体系 。 查阅 的 文献 研究 构型 都 停留 于 平面 构型 ， 混合 驱动 机构 具有 众多 优点 和 广阔 的 应用 前景 ， 若 将 其 构型 从 平面 领域 向 空间 领域 拓展 ， 必将 发挥 更大 的 作用 。
李瑞琴 等 从 ３－ＤＯＦ （ 自由度 ） 平面 机构 为 切入点 ， 研究 多 自由度 混合 驱动 机构 曲柄 存在 的 充分 必要条件 ， 意图 将 混合 驱动 机构 从 平面 领域 向 空间 领域 推广 。 然而 查阅 文献 没有 一种 完全符合 混合 驱动 概念 的 空间 构型 产生 和 成功 的 应用 案例 。 因此 ， 混合 驱动 机构 在 空间 化 的 过程 中 遇到 了 技术 上 瓶颈 。 通过 分析 平面 多 自由 混合 驱动 机构 的 理论 基础 ， 混合 驱动 机构 研究 的 关键 是 用 伺服电机 多 柔性 的 优点 弥补 常速 电机 不 可控 的 缺点 ， 以 达到 整个 机构 可控 的 目的 。 因此 要 成功 将 混合 驱动 机构 推广 到 空间 范围 必须 解决 可控性 问题 。
Ｚｈａｎｇ 等 提出 了 带有 被动 杆 的 ｎ （ ３≤ｎ≤６ ） 自由度 并联 机构 ， 其 结构 特点 是 ： 中间 被动 杆 约束 整个 机构 的 自由度 没有 动力 来源 ； 并联 ｎ 条对 整个 机构 自由度 不 产生 约束 的 对称 支链 ， 每条 支链 上 施加 驱动 ， 称为 主动 支链 。 被动 杆 只 提供 动 平台 需要 的 所有 约束 ， 而 主动 链 只 提供 对动 平台 的 驱动 。 陈修龙 等 在 被动 支链 上 施加 驱动力 形成 了 冗余 驱动 的 并联 机构 ， 此类 机构 具有 工作 空间 大 、 无 奇异 和 刚度 大 等 优点 。
冗余 机构 和 混合 驱动 机构 有 各自 众多 的 优点 ， 如果 将 两种 不同 机构 的 优越性 能 集成 到 一个 机构 上 ， 这种 机构 必定会 在 很多 领域 发挥 积极 作用 ， 同时 能 解决 混合 驱动 结构 不能 空间 化 的 难题 ， 拓宽 混合 驱动 机构 的 研究 领域 。 现 提出 一种 ｎ－ＤＯＦ 的 混合 冗余 驱动 机构 （ ｈｙ－ｂｒｉｄｒｅｄｕｍｄａｎｔｌｙｄｒｉｖｅｎｍｅｃｈａｎｉｓｍ ， ＨＲＤＭ ） 概念 和 基本 结构 组成 ， 建立 该 机构 运动学 逆 解方程 ， 并 对 该 机构 的 可控性 进行 研究 ， 以 ４－ＰＳＳ／４Ｒ２Ｕ 机构 为例 ， 采用 数值 计算 与 计算机 虚拟 仿真 技术相结合 的 方法 验证 所 建立 数学模型 的 正确性 。
１  ｎ－ＤＯＦ 的 ＨＲＤＭ 组成
传统 ｎ－ＤＯＦ 混合 驱动 机构 在 输出 端 广义坐标 ｅｑｕａｔｉｏｎ ， ２≤ｎ≤６ 。 可 看作 由 ｎ 条 相互 耦合 支链 在 ｎ 个 运动 输入 ｅｑｕａｔｉｏｎ ， ２≤ｎ≤６ 下 达到 。 通过 封闭 矢量 法 ， 建立 ｎ 个 相互 独立 位置 方程 ｅｑｕａｔｉｏｎ ， 位置 方程 对 时间 求导 就 得到 速度 雅克 比 矩阵 。 因 混合 驱动 机构 常速 电机 的 速度 为 常值 ， 满 秩 的 ｎ－ＤＯＦ （ ３≤ｎ≤６ ） 混合 驱动 机构 雅克 比 矩阵 不 存在 ， 机构 不 可控 。 若 在 机构 中 加入 一个 或 几个 分支 并 同时 加入 驱动 ， 形成 冗余 驱动 型式 ， 速度 雅克 比 矩阵 为 非满 秩 的 ， 运动学 逆解 有 无数个 ， 即使 其中 有 常速 电机 存在 ， 整个 机构 的 解 仍然 存在 。
基于 以上 分析 ， 能够 实现 空间 运动 的 集成 混合 驱动 机构 和 冗余 驱动 机构 特点 于 一体 的 新型 ｎ－ＤＯＦ 的 ＨＲＤＭ 由 ｎ－１ 或者 ｎ 条 主动 支链 和 １ 条 混合 冗余 驱动 的 中间 支链 （ 简称 ＨＲＤＬ ） 共同 连接 动 、 静 平台 而成 。 主动 支链 由 不 产生 约束 的 ６－ＤＯＦ 支链 构成 ， 对称 静 、 动 平台 中心 分布 。 中间 支链 是 由 一个 平面 多 自由度 机构 再 串联 一个 空间 连杆机构 组成 的 混连 机构 。 其中 ， 平面 多 自由度 机构 的 驱动 由 可控 的 伺服电机 和 不 可控 的 常速 电机 共同 组成 ， 达到 对动 平台 中心点 控制 的 目的 。 机构 有 ｎ 个 自由度 ， 却 有 ｎ＋１ 或 ｎ＋２ 个 驱动 ， 故而 机构 的 驱动 是 冗余 的 ， 中间 支链 就是 ＨＲＤＬ 。
４－ＰＳＳ／４Ｒ２Ｕ 并联 机构 构型 和 驱动 具有 ＨＲＤＭ 的 特征 ， 是 ＨＲＤＭ 的 一个 典型 实例 ， 如图 １ 所示 。 ４－ＰＳＳ／４Ｒ２Ｕ 并联 机构 的 动 平台 具有 ３Ｔ２ Ｒ ５ 个 自由度 ， 该 机构 主动 支链 为 ４ 条 对称 分布 、 结构 完全相同 的 ＰＳＳ 支链 ， ＰＳＳ 支链 具有 ６ 个 独立 的 自由度 对动 平台 不 产生 约束 。 图 ２ 为 ４－ＰＳＳ／４Ｒ２ＵＨＲＤＭ 运动 简图 。
机构 的 静 坐标系 Ｏ１－ｘ１ｙ１ｚ１ 固定 于静 平台 上 ， 移动 副 的 轴线 与 ｚ１ 轴 平行 ， 对称 Ｏ１ 分布 ， 移动 副 中心 Ｓｉ 距离 静 坐标系 的 初始 距离 为 ｅｑｕａｔｉｏｎ ， 连杆 长度 ｅｑｕａｔｉｏｎ 。 Ｂｉ 点 对称 分布 于 以 Ｏ１ 为 圆心 ， Ｒ 为 半径 的 圆周 上 。 动 坐标系 固定 于动 平台 上 ， 初始 位姿 与 静 平台 一致 ， Ｐｉ 点 对称 分布 于 以 Ｏ２ 为 圆心 ， ｒ 为 半径 的 圆周 上 。 ＨＲＤＬ 由 固定 于静 平台 图 １４－ＰＳＳ／４Ｒ２ＵＨＲＤＭ 模型 Ｆｉｇ ． １Ｍｏｄｅｌｏｆ４－ＰＳＳ／４Ｒ２ＵＨＲＤＭ 图 ２４－ＰＳＳ／４Ｒ２ＵＨＲＤＭ 简图 Ｆｉｇ ． ２Ｓｃｈｅｍａｔｉｃｄｉａｇｒａｍｏｆ４－ＰＳＳ／４Ｒ２ＵＨＲＤＭ 平面 Ｏ１－ｘ１ｙ１ 上 ５ 杆 机构 串联 一个 连杆机构 ＥＯ２ 组成 ， 伺服电机 转动 中心点 Ｃ 和 常速 电机 转动 中心点 Ｇ 在 静 平台 上 ， 连杆 的 另外 一端 由 虎克 铰 连接 于动 平台 中心点 。 中间 支链 起到 约束 整个 机构 的 自由度 。
与 此 类似 ， ３－ＤＯＦ 的 ＨＲＤＭ 由 ３ 条 对称 分布 主动 支链 和 中间 ＨＲＤＬ 组成 ； ４－ＤＯＦ 的 ＨＲＤＭ 由 ３ 条 或 ４ 条 对称 分布 主动 支链 和 中间 ＨＲＤＬ 组成 。
ＨＲＤＬ 的 加入 使得 机构 具有 冗余 驱动 和 混合 驱动 的 一些 特点 。 相比 常规 的 冗余 驱动 并联 机构 。 引入 一个 不 可控 的 常速 电机 ， 研究 整个 机构 的 可控性 、 运动学 特性 、 动力学 特性 ， 对于 此类 机构 的 设计 研究 是 非常 重要 的 研究课题 。 根据 设计 要求 或者 轨迹 特性 ， 轨迹 规划 等 因素 最终 设计 出 的 结构 参数 或 构型 与 图 １ 和 图 ２ 所示 有所不同 。
２  ｎ－ＤＯＦ  ＨＲＤＭ  运动学 分析
对于 一个 全 自由度 并联 机构 ， 在 其 末端 有 ６ 个 自由度 （ ３Ｔ３Ｒ ） ， 对应 的 广义坐标 为 ｅｑｕａｔｉｏｎＴ 。 其中 ， （ ｘ ， ｙ ， ｚ ） Ｔ 为 沿着 绝对 坐标系 方向 的 平移 自由度 ， （ α ， β ， γ ） Ｔ 为动 平台 姿态 角度 。 ＨＲＤＭ 位置 逆解 就是 给定 ＨＲＤＬ 常速 电机 的 驱动 速度 和动 平台 的 位姿 求解 机构 的 ｎ 条 主动 支链 滑动 副 的 驱动 位移 和 ＨＲＤＬ 伺服电机 的 驱动 角位移 。 下面 分别 求解 ＨＲＤＬ 的 位置 逆解 和 ｎ 条 ＰＳＳ 支链 的 位置 逆解 。
２．１  ＨＲＤＬ 的 位置 逆解
假设 ｎ－ＤＯＦＨＲＤＭ 由静 平台 向动 平台 位姿 变化 矩阵 为 Ｏ１Ｏ２Ｔ ， 由 欧拉变换 （ Ｚ－Ｙ－Ｘ ） ， 分别 绕 （ Ｘ ， Ｙ ， Ｚ ） 轴 变化 姿态 角 （ α ， β ， γ ） 得到 。 由 ＨＲＤＭ 的 概念 可知 中间 支链 约束 整个 机构 的 自由度 ， 因此 Ｏ１Ｏ２Ｔ 可 由 中间 支链 通过 Ｄ－Ｈ 变换 得到 。 ＨＲＤＬ 精确 确定 动 平台 的 运动 轨迹 ， 由 伺服电机 和 常速 电机 共同 驱动 平面 ５ 杆 机构 ＣＤＥＦＧ （ 图 ２ ） ， 其中 伺服电机 对 整个 机构 的 运动 轨迹 精确 补偿 起到 决定性 作用 。 为 描述 方便 ， 建立 由 伺服电机 分支 ＣＤＥＯ２ 从静 平台 到动 平台 的 运动 副 中心 坐标系 ｅｑｕａｔｉｏｎ ， 虎克 铰 等效 为 两个 轴线 正交 的 转动 副 。 由 Ｃｒａｉｇ 法则 得到 从 连杆 坐标系 ｛ ｉ－１ ｝ 到 坐标系 ｛ ｉ ｝ 的 坐标 变换 矩阵 ： ｅｑｕａｔｉｏｎ 式 （ １ ） 中 ： ａｉ 为 沿 ｘｉ 轴 从 ｚｉ 移动 到 ｚｉ＋１ 的 距离 ； α ｉ 为 绕 ｘｉ 轴 、 从 ｚｉ 到 ｚｉ＋１ 的 转角 ； ｄｉ 为 沿 ｚｉ 轴 从 ｘｉ－１ 到 ｘｉ 的 距离 ； θ ｉ 为 绕 ｚｉ 轴 从 ｘｉ－１ 到 ｘｉ 的 转角 ； ｓ 表示 ｓｉｎ ； ｃ 表示 ｃｏｓ ， 下同 。 则 静 坐标系 到动 坐标系 的 转换 矩阵 为  ｅｑｕａｔｉｏｎ  式 （ ２ ） 中 ： ｅｑｕａｔｉｏｎ ， ｅｑｕａｔｉｏｎ ， ｅｑｕａｔｉｏｎ ； ｅｑｕａｔｉｏｎ ， ｅｑｕａｔｉｏｎ ， ｅｑｕａｔｉｏｎ ； ｅｑｕａｔｉｏｎ ， ｅｑｕａｔｉｏｎ ， ｅｑｕａｔｉｏｎ 。 已知 式 （ ２ ） 变换 矩阵 Ｏ１Ｏ２Ｔ 、 动 平台 位姿 Ｘ 和 ＨＲＤＬ 的 齐次 变换 矩阵式 （ １ ） ， Ｅ 点 的 坐标 矢量 ｅｑｕａｔｉｏｎｅｑｕａｔｉｏｎ ， 由 下列 齐次 变换 得到 ｅｑｕａｔｉｏｎ 式 中 ： ｉ－１ｉＴ－１ 为 关节 变换 矩阵 的 逆 矩阵 。
ＨＲＤＬ 的 双 动力 安置 于 平面 ５ 杆 机构 的 两 驱动 转动 副 Ｃ 、 Ｇ 处 ， 如图 ３ 所示 。 其中 ： 机架 为 ＣＧ 杆 ； ＣＤ 杆 由 伺服电机 驱动 角位移 λ１ ； ＦＧ 杆 由 常速 电机 驱动 角位移 λ２ ； 在 ＣＤ 杆 ＦＧ 杆 共同 作为 ＨＲＤＬ 的 驱动 。 在 两 驱动 杆 作用 下 ， 驱动 从动件 ＤＥ 杆 和 ＥＦ 杆 运动 ， 以使 Ｅ 点 输出 柔性 轨迹 。 设定 ５ 杆 机构 中 各构 杆 的 长度 分别 为 ： ｅｑｕａｔｉｏｎ ， ｅｑｕａｔｉｏｎ ， ｅｑｕａｔｉｏｎ ， ｅｑｕａｔｉｏｎ ， ｅｑｕａｔｉｏｎ 。
相邻 杆件 之间 的 夹角 分别 为 λ１ 、 λ２ 、 λ３ 、 λ４ ， 其中 ｅｑｕａｔｉｏｎ 。
分别 以 支链 ＣＤＥ 和 ＥＦＧ 建立 Ｅ 点 的 约束方程 ： ｅｑｕａｔｉｏｎ 由式 （ ５ ） 、 式 （ ６ ） 得 ： ｅｑｕａｔｉｏｎ 式 （ ５ ） ～ 式 （ ８ ） 中 ： ｅｑｕａｔｉｏｎ 式 （ ７ ） 、 式 （ ８ ） 即为 ＨＲＤＬ 的 位置 逆解 。
２．２  ＰＳＳ 支链 的 位置 逆解
令 Ｐｉ 为动 平台 球 铰 中心点 在 定 坐标系 下 的 矢量 ， Ｏ２Ｐｉ 为动 平台 球 铰 中心点 在 动 坐标系 下 坐标 矢量 ， Ｂｉ 为静 平台 与 滑动 副 轴线 交点 位置矢量 坐标 。 设动 平台 中心点 Ｏ２ 为 参考点 ， 则 有 ： ｅｑｕａｔｉｏｎ 相对 动 平台 中心 参考点 坐标 矢量 Ｏ２ 有 如下 关系 ： ｅｕｑａｔｉｏｎ 式 （ １０ ） 中 ： Ｏ１Ｏ２ Ｒ 为 姿态 转换 矩阵 。 杆长 约束条件 ：  ｅｑｕａｔｉｏｎ  将式 （ １０ ） 代入 式 （ １１ ） ， 可 得 ： ｅｑｕａｔｉｏｎ 由 封闭 矢量 法 得到 ：  ｅｑｕａｔｉｏｎ  由式 （ １１ ） ～ 式 （ １３ ） 得到 ＰＳＳ 支链 的 位置 逆解 为  ｅｑｕａｔｉｏｎ 
当 已知 动 平台 中心点 的 位姿 和 常速 电机 的 角速度 ， 由式 （ ７ ） 、 式 （ ８ ） 得到 中间 ＨＲＤＬ 常速 电机 和 伺服电机 的 角位移 。 因为 在 任意 时刻 ， 常速 电机 驱动 的 方向 已知 ， 两个 电机 的 角位移 唯一 。 式 （ １４ ） 求得 ＰＳＳ 支链 移动 副 相对 定 坐标系 驱动 位移 量 ， 处于 定 坐标系 的 ｘ１Ｏ１ｙ１ 平面 ｚ 轴 上方 ， 取 正值 。
３  ｎ－ＤＯＦ  ＨＲＤＭ  可控性 分析
３．１  ＨＲＤＬ  的 可控性
ｎ－ＤＯＦ  ＨＲＤＭ 对称 分布 支链 对 机构 动 平台 中心 轨迹 不 产生 任何 约束 作用 ， 机构 可控性 的 问题 转化 为  ＨＲＤＬ  在 常速 电机 和 伺服电机 的 共同 驱动 下 ， 在 支链 末端 工作 空间 内 输出 轨迹 连贯 ， 满足 需求 作业 任务 。 写成 速度 映射 关系 ： ｅｑｕａｔｉｏｎ 式 （ １５ ） 中 ： Ｊ ＇ 为  ＨＲＤＬ 的 速度 雅克 比 矩阵 。 由式 （ ３ ） 和 式 （ ４ ） 得到 Ｅ 点到 动 平台 中心 Ｏ２ 的 速度 映射 关系 ： ｅｑｕａｔｉｏｎ 式 （ １６ ） 中 ： Ｊ ″ 为 速度 映射 矩阵 。 由式 （ １５ ） 和 式 （ １６ ） ， 得 ： ｅｑｕａｔｉｏｎ 式 （ １７ ） 中 ： ｅｑｕａｔｉｏｎ 为 Ｅ 点 的 坐标 矢量 。
通过 Ｄ－Ｈ 变换 矩阵式 （ １ ） 和 式 （ ４ ） 得到 ， Ｊ ＇ 和 Ｊ ″ 是 关于 广义坐标 Ｘ 和 连杆 转角 θ ｉ 的 三角函数 关系 ， 并且 ｉ－１ｉＴ≠０ 。 因此 ， ＨＲＤＬ 的 可控性 直接 由 混合 驱动 ５ 杆 机构 的 可控性 决定 。
相 比较 实时 可控 能 双向 运动 的 伺服电机 ， 混合 驱动 机构 的 轨迹 实现 是 单向 的 。